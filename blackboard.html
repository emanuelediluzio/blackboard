
<html>
    <head>
        <script>
        document.addEventListener("DOMContentLoaded", function() {

var canvas = document.createElement('canvas');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
document.body.appendChild(canvas);
var context = canvas.getContext('2d');
var mouseDown = false;
var lastX = 0;
var lastY = 0;
canvas.addEventListener('mousedown', function(e) {
  mouseDown = true;
  lastX = e.clientX;
  lastY = e.clientY;
});
canvas.addEventListener('mouseup', function(e) {
  mouseDown = false;
});
canvas.addEventListener('mousemove', function(e) {
  if (mouseDown) {
    context.beginPath();
    context.moveTo(lastX, lastY);
    context.lineTo(e.clientX, e.clientY);
    context.stroke();
    lastX = e.clientX;
    lastY = e.clientY;
  }
});

var menu = document.createElement('div');
menu.style.position = 'fixed';
menu.style.left = '0px';
menu.style.top = '0px';
menu.style.width = '100px';
menu.style.height = '100%';
menu.style.backgroundColor = '#eee';
document.body.appendChild(menu);
var pen = document.createElement('div');
pen.innerHTML = 'Pen';
pen.style.padding = '10px';
pen.style.cursor = 'pointer';
pen.style.backgroundColor = '#ccc';
pen.addEventListener('click', function() {
  context.strokeStyle = 'black';
  pen.style.backgroundColor = '#ccc';
  eraser.style.backgroundColor = '#eee';
});
menu.appendChild(pen);
var eraser = document.createElement('div');
eraser.innerHTML = 'Eraser';
eraser.style.padding = '10px';
eraser.style.cursor = 'pointer';
eraser.style.backgroundColor = '#eee';
eraser.addEventListener('click', function() {
  context.strokeStyle = 'white';
  pen.style.backgroundColor = '#eee';
  eraser.style.backgroundColor = '#ccc';
});
menu.appendChild(eraser);

context.lineWidth = 10;

var redPen = document.createElement('div');
redPen.innerHTML = 'Red Pen';
redPen.style.padding = '10px';
redPen.style.cursor = 'pointer';
redPen.style.backgroundColor = '#eee';
redPen.addEventListener('click', function() {
  context.strokeStyle = 'red';
  pen.style.backgroundColor = '#eee';
  eraser.style.backgroundColor = '#eee';
});
menu.appendChild(redPen);

var bluePen = document.createElement('div');
bluePen.innerHTML = 'Blue Pen';
bluePen.style.padding = '10px';
bluePen.style.cursor = 'pointer';
bluePen.style.backgroundColor = '#eee';
bluePen.addEventListener('click', function() {
  context.strokeStyle = 'blue';
  pen.style.backgroundColor = '#eee';
  eraser.style.backgroundColor = '#eee';
});
menu.appendChild(bluePen);

var eraseAll = document.createElement('div');
eraseAll.innerHTML = 'Erase All';
eraseAll.style.padding = '10px';
eraseAll.style.cursor = 'pointer';
eraseAll.style.backgroundColor = '#eee';
eraseAll.addEventListener('click', function() {
  context.clearRect(0, 0, canvas.width, canvas.height);
});
menu.appendChild(eraseAll);

var greenPen = document.createElement('div');
greenPen.innerHTML = 'Green Pen';
greenPen.style.padding = '10px';
greenPen.style.cursor = 'pointer';
greenPen.style.backgroundColor = '#eee';
greenPen.addEventListener('click', function() {
  context.strokeStyle = 'green';
  pen.style.backgroundColor = '#eee';
  eraser.style.backgroundColor = '#eee';
});
menu.insertBefore(greenPen, bluePen);

var randomBackground = document.createElement('div');
randomBackground.innerHTML = 'Random Background';
randomBackground.style.padding = '10px';
randomBackground.style.cursor = 'pointer';
randomBackground.style.backgroundColor = '#eee';
randomBackground.addEventListener('click', function() {
  var r = Math.floor(Math.random() * 256);
  var g = Math.floor(Math.random() * 256);
  var b = Math.floor(Math.random() * 256);
  document.body.style.backgroundColor = 'rgb(' + r + ',' + g + ',' + b + ')';
});
menu.insertBefore(randomBackground, bluePen);

eraseAll.addEventListener('click', function() {
  document.body.style.backgroundColor = 'white';
});

var save = document.createElement('div');
save.innerHTML = 'Save';
save.style.padding = '10px';
save.style.cursor = 'pointer';
save.style.backgroundColor = '#eee';
save.addEventListener('click', function() {
  var link = document.createElement('a');
  link.download = 'my-image.png';
  link.href = canvas.toDataURL();
  link.click();
});
menu.appendChild(save);
});
        </script>
    </head>
    <body style="margin: 0;">
        </div>
    </body>
</html>
